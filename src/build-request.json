{
  "kind": "build_request",
  "title": "Upgrade all browser-based DSP audio tools (noise suppression, transient control, voice isolation, spectral repair, dynamic EQ, de-click/de-chirp) while leaving video editing unchanged",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-9",
      "text": "Upgrade the in-browser audio DSP pipeline in `frontend/src/lib/audioProcessor.ts` to provide noticeably stronger results for: noise/background suppression, transient/impulse suppression (clicks/knocks/bangs), voice/dialogue isolation, spectral repair, dynamic EQ, and de-click/de-chirp (all within Web Audio API + OfflineAudioContext constraints; no deep-learning model claims).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "upgrade all the DSP tools",
          "yes upgrade the DSP tools leave video editing as is,"
        ]
      },
      "acceptanceCriteria": [
        "The audio processing pipeline includes distinct stages covering: noise suppression, transient suppression, voice/dialogue isolation, spectral repair, dynamic EQ, and de-click/de-chirp.",
        "Each new/updated DSP stage can be enabled/disabled and parameterized by the editor UI (strength and/or relevant parameters).",
        "All processing runs via browser-native Web Audio (e.g., OfflineAudioContext) and does not claim to implement neural networks, GPU acceleration, or deep learning.",
        "Processing completes successfully for typical user audio files without throwing runtime errors."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Wire the existing strength controls in `frontend/src/components/AdvancedAudioEditor.tsx` (e.g., `noiseSuppressionStrength`, `transientSuppressionStrength`, `voiceIsolationStrength`, `spectralRepairStrength`) into the DSP pipeline so that changing a slider measurably changes the processing outcome rather than only toggling stages on/off.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "upgrade all the DSP tools"
        ]
      },
      "acceptanceCriteria": [
        "Moving each strength slider (0% -> 100%) produces a clearly different output (audible change) while keeping the feature enabled.",
        "The strength values are passed as parameters/options into the processing function (not ignored).",
        "Setting strength to 0% behaves equivalently to disabling that stage (or produces a minimal/no-op effect), and 100% applies the strongest settings supported."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Extend `AdvancedAudioEditor` to expose controls for the missing requested DSP tools: dynamic EQ and de-click/de-chirp (in addition to the existing noise suppression, transient suppression, voice isolation, spectral repair, and tone shaping controls).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "upgrade all the DSP tools"
        ]
      },
      "acceptanceCriteria": [
        "The editor UI includes clearly labeled controls (English) to enable/disable dynamic EQ and de-click/de-chirp, plus at least one adjustable intensity/strength control for each.",
        "Running processing with these toggles enabled results in an output different from when they are disabled.",
        "UI controls follow the existing pattern (Switch + Slider + short description) and remain responsive during processing."
      ]
    },
    {
      "id": "REQ-12",
      "text": "Replace AI/deep-learning marketing and stage-copy in the advanced audio surfaces with accurate DSP wording (e.g., rename 'AI Engine' references and descriptions in `AdvancedAudioEditor.tsx` and progress stage labels emitted from `audioProcessor.ts`). Keep all user-facing text in English.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "upgrade all the DSP tools"
        ]
      },
      "acceptanceCriteria": [
        "`AdvancedAudioEditor.tsx` no longer displays copy such as 'Deep learning-powered', 'AI Enhancement Controls', 'GPU Accelerated', or similar claims; the copy describes DSP processing accurately.",
        "Progress stage labels emitted by the processing function no longer mention AI (e.g., 'Initializing AI Engine...' becomes a DSP-accurate label).",
        "All updated user-facing text is English-only and consistent across the editor (header, descriptions, toasts, and stage labels)."
      ]
    },
    {
      "id": "REQ-13",
      "text": "Ensure the video editing experience remains unchanged by the DSP upgrade work (no behavior, UI, or job-history video comparison regressions).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "leave video editing as is,"
        ]
      },
      "acceptanceCriteria": [
        "No code changes are made that alter video editor UI controls, preview behavior, or video job history comparison features.",
        "Manual smoke test: video upload/edit/history flows behave the same as before the DSP upgrades."
      ]
    }
  ],
  "constraints": [
    "Do not modify any files under `frontend/src/components/ui` (compose them only).",
    "Do not edit paths listed in `frontend.immutablePaths` in SYSTEM_CONTEXT.",
    "Do not introduce or claim deep-learning/neural-network/GPU-accelerated audio models; implement upgrades using browser-native DSP (Web Audio API/OfflineAudioContext).",
    "Keep video editing functionality unchanged."
  ],
  "nonGoals": [
    "Implementing true deep-learning or GPU-based audio source separation models in-browser.",
    "Adding new backend canisters, external databases, or external AI services.",
    "Changing video processing, video editor UI, or video comparison behavior."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}